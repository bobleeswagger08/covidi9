<form [formGroup]="candidateForm" autocomplete="off">
    <mat-tab-group [selectedIndex]="tabIndex">

        <mat-tab label="Candidate Master">
            <mat-card class="p-0">
                <mat-card-content>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                        <mat-form-field class="full-width">
                                            <mat-label>Source</mat-label>
                                            <mat-select name="source" formControlName="source">
                                                <mat-option> -- </mat-option>
                                                <mat-option  [value]="'Format 1'"> Format 1 </mat-option> 
                                                <mat-option  [value]="'Format 2'"> Format 2 </mat-option> 
                                                <mat-option  [value]="'Others'"> Other Sources </mat-option> 
                                            </mat-select>
                                        </mat-form-field>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="serialNo" formControlName="serialNo" placeholder="Serial No"
                                        value="">
                                </mat-form-field>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <mat-label>Current Status</mat-label>
                                    <mat-select name="candidateStatusId" formControlName="candidateStatusId">
                                        <mat-option> -- </mat-option>
                                        <mat-option *ngFor="let cr of listClosedReason" [value]="cr.id">
                                            {{cr.description}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                   
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="name" formControlName="name" placeholder="Name" value="">
                                </mat-form-field>
                                <small
                                    *ngIf="candidateForm.controls['name'].hasError('required') && candidateForm.controls['name'].touched"
                                    class="form-error-msg">Name is required</small>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <mat-label>Choose Arrival Date</mat-label>
                                    <input matInput name="arivalDate" formControlName="arivalDate"
                                        [matDatepicker]="pickerAD" placeholder="Arrival Date">
                                    <mat-datepicker-toggle matSuffix [for]="pickerAD"></mat-datepicker-toggle>
                                    <mat-datepicker #pickerAD></mat-datepicker>
                                </mat-form-field>
                               
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <mat-label>Select UPHC</mat-label>
                                    <mat-select name="uphc" formControlName="uphc">
                                        <mat-option> -- </mat-option>
                                        <mat-option *ngFor="let uc of listUPHC" [value]="uc.uphc">
                                            {{uc.uphc}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                   
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <mat-label>Select Ward No</mat-label>
                                    <mat-select name="wardNo" formControlName="wardNo">
                                        <mat-option> -- </mat-option>
                                        <mat-option *ngFor="let wl of listWard" [value]="wl.wardNo">
                                            {{wl.wardNo}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="mobileNo" formControlName="mobileNo" placeholder="Mobile No"
                                        value="">
                                </mat-form-field>
                              
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <textarea matInput name="address" formControlName="address" placeholder="Address"
                                        value=""></textarea>
                                </mat-form-field>
                                
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="dob" formControlName="dob" placeholder="Date of birth"  value="">
                                </mat-form-field>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="age" formControlName="age" placeholder="Age" value="">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="sex" formControlName="sex" placeholder="Sex" value="">
                                </mat-form-field>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <!-- <mat-slide-toggle name="isActive" color="primary" formControlName="isActive">Active
                                </mat-slide-toggle> -->
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="flightNumber" formControlName="flightNumber"
                                        placeholder="Flight Number" value="">
                                </mat-form-field>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="flightNo" formControlName="flightNo" placeholder="Flight No"
                                        value="">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="countryVisited" formControlName="countryVisited"
                                        placeholder="Country Visited" value="">
                                </mat-form-field>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="finalDestination" formControlName="finalDestination"
                                        placeholder="Final Destination" value="">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="block" formControlName="block" placeholder="Block" value="">
                                </mat-form-field>
                            </div>
                        </div>
                        <div fxFlex="100" fxFlex.gt-xs="50" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <input matInput name="state" formControlName="state" placeholder="State" value="">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div fxLayout="row wrap">
                        <div fxFlex="100" fxFlex.gt-xs="100" class="pr-1">
                            <div class="pb-1">
                                <mat-form-field class="full-width">
                                    <textarea matInput name="note" formControlName="note" placeholder="Note"
                                        value=""></textarea>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    

                    <!-- *ngIf="this.id && this.id == 'null'" -->
                    <button mat-raised-button color="primary" *ngIf="this.id && this.id == 'null' && this.userAccess.canAdd()" [disabled] ="candidateForm.invalid"                  
                        (click)="submitCandidateInputData(candidateForm.value)">Submit</button>
                    <button mat-raised-button *ngIf="this.id && this.id != 'null' && this.userAccess.canModify()" color="primary" [disabled] ="candidateForm.invalid"
                        (click)="updateCandidateInputData(candidateForm.value)">Update</button>
                    <!-- {{courtCaseMasterForm.value|json}} -->
                </mat-card-content>
            </mat-card>
        </mat-tab>
        <mat-tab label="Field Input">
            <!-- <app-field-input name="fieldData" formControlName="fieldData"  [candidate-id]="candidateId"></app-field-input> -->
            <app-field-input *ngIf="maxStatusDate" name="fieldData" formControlName="fieldData"  [candidate-id]="candidateId" [max-date]='maxStatusDate' [button-visible]="fiButtonVisible"></app-field-input>
        </mat-tab>
        <mat-tab label="History">
            <app-field-input-history *ngIf="listFieldHistory" [field-history]="listFieldHistory"></app-field-input-history>
        </mat-tab>
    </mat-tab-group>
</form>